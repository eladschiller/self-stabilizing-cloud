clf
set(0,'DefaultFigureVisible','off')
figure('DefaultAxesFontSize',22);
x = [;1;100;20;50;10;10;50;20;1;100;10;100;1;50;20;10;1;50;20;100;50;1;10;20;100;100;20;10;50;1;50;1;10;100;20;50;20;100;10;1;1;50;20;100;10;1;100;10;20;50;100;1;50;20;10;10;50;20;100;1;20;50;10;100;1;1;10;100;20;50;100;10;20;1;50];
y = [;1;1;1;1;1;2;2;2;2;2;3;3;3;3;3;4;4;4;4;4;5;5;5;5;5;6;6;6;6;6;7;7;7;7;7;8;8;8;8;8;9;9;9;9;9;10;10;10;10;10;11;11;11;11;11;12;12;12;12;12;13;13;13;13;13;14;14;14;14;14;15;15;15;15;15];
z = [;294.4436906456655;155.96782616161207;304.9354882455175;236.01631882503597;339.99836542623626;91.80088187472693;70.13986687088715;97.61269371253894;19.93229338022175;38.1532563122405;14.371240725472802;1.1147941309407094;7.005488415932233;7.7549250492503;18.756549467707448;10.409238025819985;5.352072629196387;3.0466476733699794;7.174698610704677;2.112018684478062;1.6874058541592731;3.793572609103775;5.648981511566838;6.926172777016161;6.9703630322140135;2.8865595258194663;2.4709302654363485;7.5061162670595785;1.5811957729069122;6.355984819595124;0.2685143559264134;3.330781950360647;4.95481960273644;0.12595487364481517;2.55597224399063;0.10961267298499965;1.2416270027638117;0.10047786557324406;3.611004620461084;4.798108415879367;4.38787993262447;0.03752357321934419;0.5949568154028014;0.09934757901701094;1.1679120835267303;3.128788541605593;0.013259115493526;1.7722742615119729;0.15362420352807427;0.0072743373847962475;0.011706183274319564;3.203962384495333;0.19430010126941966;0.2085381272321532;0.6840680161804815;0.2873741261332748;0.0057863107914003144;0.0490027914644809;0.009703978787684307;1.7155198534829432;0.02674691129732379;0.005621413301089321;0.23146930456210119;0.05980313605678236;2.1196119433661114;1.9406638354109302;0.3241071673456073;0.021196500078972478;0.002160142025437307;0.010537196706926107;0.045190862456327655;0.03473407393718039;0.002016930944288326;1.5754587695175832;0.00479952724829376];
[X,Y]=meshgrid(min(x):max(x),min(y):max(y));
Z=griddata(x,y,z,X,Y);
contour(X,Y,Z, 'linewidth', 2, 'ShowText','on');
hold on
contour(X,Y,Z,'LevelList', [0;0.03;0.01], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.03;0.05;0.01], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.05;0.1;0.01], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.1;0.3;0.1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.3;0.5;0.1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.5;1;0.1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [1;1.5;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [1.5;2;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [2;3;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [3;4;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [4;6;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [6;10;1], 'linewidth', 2, 'ShowText','on');
title({'Scalability w.r.t. bufferUnitSize.', 'The average throughput per sender,’ ,  ‘in delivered scdBroadcast messages per second.', 'Results for PlanetLab.'})
xlabel('BufferUnitSize')
xticks([1, 10, 20, 50, 100])
ylabel('Number of processes')
yticks([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15])
set(gcf, 'PaperPosition', [0.0 0.0 15 15]);
set(gcf, 'PaperSize', [15 15]);
set(gca, 'XScale', 'log')
saveas(gcf, 'scd_exp3_pl_tput.pdf')
