clf
set(0,'DefaultFigureVisible','off')
figure('DefaultAxesFontSize',22);
x = [;10;1000;100;50;1;100;1;1000;50;10;100;10;50;1;1000;50;1;10;1000;100;1000;50;1;100;10;100;1000;50;10;1;100;1000;10;1;50;100;1000;10;50;1;1000;50;1;100;10;1000;1;10;50;100;100;10;1;50;1000;10;1;100;50;1000;10;50;100;1;1000;1000;1;50;10;100;1;100;50;1000;10];
y = [;1;1;1;1;1;2;2;2;2;2;3;3;3;3;3;4;4;4;4;4;5;5;5;5;5;6;6;6;6;6;7;7;7;7;7;8;8;8;8;8;9;9;9;9;9;10;10;10;10;10;11;11;11;11;11;12;12;12;12;12;13;13;13;13;13;14;14;14;14;14;15;15;15;15;15];
z = [;344.0698698464251;380.8369427190546;486.97511733380964;347.4768320872523;190.0476486028862;99.71331768022304;77.46957261571322;59.365979678918514;84.7643562721839;45.06477662546678;11.027123984243701;26.052195845796113;15.998042390216867;25.731479430247624;1.285602491504928;10.717532962402796;11.506928327144385;17.59590942996151;0.1092312824277245;5.932763825205582;0.1906348565189545;6.987869797775788;8.546996948635922;3.6290035434006844;11.344927807411846;3.1247429765958956;0.19847107738914707;6.828108558816396;5.575182734649638;3.1416617764921555;4.041815777008829;0.1337536407428369;3.2305947579161973;1.8264430724315313;4.19412653547953;2.3270602744593583;0.24192014499642434;1.5129258860886405;3.634411349156159;1.739649014483919;0.13319490136404719;2.05827429567715;1.0607440107441493;1.4227723527450362;0.7877334483669143;0.2306085639572228;0.5763963026290839;0.6379077562266796;0.9977858445757615;0.8454389256233084;0.6777764963006595;0.5605857288346052;0.35597076830355023;0.9085704152612651;0.03822986849662469;0.08556075982177692;0.30835160687318564;0.3814170125299462;0.4728541292922401;0.09274392268892263;0.09904222414160398;0.320249164814699;0.48401774075937004;0.2750401027191669;0.04081768547048996;0.027319723525146604;0.16203309388419634;0.1583715453826213;0.042800687264139464;0.17164416583931913;0.12169950894622183;0.292853115185195;0.11312724920889544;0.04508866084713536;0.0252767992898403];
[X,Y]=meshgrid(min(x):max(x),min(y):max(y));
Z=griddata(x,y,z,X,Y);
contour(X,Y,Z, 'linewidth', 2, 'ShowText','on');
hold on
contour(X,Y,Z,'LevelList', [0;0.03;0.01], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.03;0.05;0.01], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.05;0.1;0.01], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.1;0.2;0.1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.2;0.3;0.1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.3;0.5;0.1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [0.5;1;0.1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [1;1.5;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [1.5;2;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [2;3;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [3;4;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [4;8;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [8;10;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [10;20;1], 'linewidth', 2, 'ShowText','on');
contour(X,Y,Z,'LevelList', [40;50;1], 'linewidth', 2, 'ShowText','on');
title({'Scalability w.r.t. bufferUnitSize.', 'The average throughput per sender,' ,  'in delivered scdBroadcast messages per second.', 'Results for PlanetLab.'})
xlabel('Delta')
xticks([1, 10, 50, 100, 1000])
ylabel('Number of processes')
yticks([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15])
set(gcf, 'PaperPosition', [0.0 0.0 15 15]);
set(gcf, 'PaperSize', [15 15]);
set(gca, 'XScale', 'log');
saveas(gcf, 'scd_exp4_pl_tput.pdf')
